(this["webpackJsonpcode-test"]=this["webpackJsonpcode-test"]||[]).push([[0],{159:function(e,a,t){e.exports=t.p+"static/media/burger.86f3ed7b.svg"},160:function(e,a,t){e.exports=t.p+"static/media/hotdog.ec00cfaf.svg"},161:function(e,a,t){e.exports=t.p+"static/media/pizza.086db7ac.svg"},169:function(e,a,t){e.exports=t.p+"static/media/info.dc945fa3.svg"},177:function(e,a,t){e.exports=t.p+"static/media/logo.c8f375f7.svg"},183:function(e,a,t){e.exports=t(314)},192:function(e,a,t){},193:function(e,a,t){},195:function(e,a,t){},246:function(e,a,t){},271:function(e,a,t){},313:function(e,a,t){},314:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(6),s=t.n(c),l=t(33),i=t(24),m=(t(192),t(38)),o=t(8),u=(t(193),t(26)),d=t.n(u),p=t(41),E=t(27),f=t(76),b=t(40),h=t(315),g=t(43),v=t(320),O=t(68),k=t(53),x=t(17);function j(e,a){return{type:e,payload:a}}var N={dish:null,email:"",drinks:[],dateTime:null,numberOfPeople:1},y=function(e){return j("orders/SET_ORDER",{order:e})},D=function(e){return j("orders/ADD_DISH",{dish:e})},S=function(e){return j("orders/ADD_DRINK",{drink:e})},w=function(e){return j("order/REMOVE_DRINK",{drink:e})},T=function(e){return j("orders/SET_EMAIL",{email:e})},_=function(e){return j("orders/SET_DATETIME",{dateTime:e})},I=function(e){return j("orders/SET_NUMBEROFPEOPLE",{numberOfPeople:e})};var C=t(159),P=t.n(C),M=t(160),R=t.n(M),A=t(161),H=t.n(A),B=(t(195),Object(l.b)((function(e){return{order:e.order}}),(function(e){return Object(i.b)({setOrder:y},e)}))((function(e){var a=e.setOrder,t=(e.order,Object(n.useState)("")),c=Object(E.a)(t,2),s=c[0],l=c[1],i=Object(n.useState)(null),m=Object(E.a)(i,2),u=m[0],k=m[1],x=Object(o.f)(),j=Object(O.useIndexedDB)("orders").openCursor;function N(){return(N=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j((function(e){var t=e.target.result;t?t.value.email===s?(a(t.value),x.push("dish")):t.continue():k("Order not found")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{gutter:[{xs:4,sm:8,md:16,lg:24},{xs:4,sm:8,md:16,lg:24}]},r.a.createElement(b.a,{xl:18,lg:18,md:18,sm:24,xs:24,flex:"stretch"},r.a.createElement("div",{className:"container border"},r.a.createElement(h.a,{autoplay:!0,arrows:!0},r.a.createElement("div",null,r.a.createElement("img",{className:"",src:P.a,alt:"burger-menu"})),r.a.createElement("div",null,r.a.createElement("img",{className:"",src:R.a,alt:"hotdog-menu"})),r.a.createElement("div",null,r.a.createElement("img",{className:"",src:H.a,alt:"pizza-menu"}))))),r.a.createElement(b.a,{xl:6,lg:6,md:6,sm:24,xs:24,flex:"stretch"},r.a.createElement("div",{className:"container border"},r.a.createElement("p",{className:"uppercase bold"},"new order"),r.a.createElement(g.a,{className:"uppercase",type:"primary",block:!0,onClick:function(){return e="dish",void x.push(e);var e}},"Order")))),r.a.createElement(f.a,{gutter:{xs:4,sm:8,md:16,lg:24}},r.a.createElement(b.a,{xl:12,lg:12,md:12,sm:24,xs:24},r.a.createElement("div",{className:"container border"},r.a.createElement("p",{className:"uppercase bold"},"find your order"),r.a.createElement(v.a,{type:"email",placeholder:"Email",onChange:function(e){return l(e.target.value)}}),r.a.createElement(g.a,{className:"uppercase",type:"primary",block:!0,onClick:function(){return function(){return N.apply(this,arguments)}()}},"find"),u&&r.a.createElement("p",{className:"uppercase error"},u))),r.a.createElement(b.a,{xl:12,lg:12,md:12,sm:24,xs:24},r.a.createElement("div",{className:"container border"},r.a.createElement("p",{className:"uppercase"},"lorem ipsum")))))}))),F=t(44),q=t.n(F),z=t(317);t(246);var G=function(e){var a=e.min,t=e.max,c=e.label,s=e.value,l=void 0===s?1:s,i=e.onChange,m=void 0===i?function(){}:i,o=Object(n.useState)(l),u=Object(E.a)(o,2),d=u[0],p=u[1];return r.a.createElement("div",{className:"number-selector"},r.a.createElement("p",{className:"label uppercase text-center"},c),r.a.createElement("div",{className:"selector"},r.a.createElement("div",{className:"left",onClick:function(){if(d!==a){var e=d-1;p(e),m(e)}}}),r.a.createElement("div",{className:"value"},d),r.a.createElement("div",{className:"right",onClick:function(){if(d!==t){var e=d+1;p(e),m(e)}}})))},K=Object(l.b)((function(e){return{order:e.order}}),(function(e){return Object(i.b)({setEmail:T,setDateTime:_,setNumberOfPeople:I},e)}))((function(e){var a=e.setEmail,t=e.setDateTime,c=e.setNumberOfPeople,s=e.order,l=Object(n.useState)(!1),i=Object(E.a)(l,2),m=(i[0],i[1]),o=Object(O.useIndexedDB)("orders").add;function u(){return(u=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,o(s);case 3:m(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{gutter:[{xs:4,sm:8,md:16,lg:24},{xs:4,sm:8,md:16,lg:24}]},r.a.createElement(b.a,{xs:24},r.a.createElement("div",{className:"container border"},r.a.createElement("h2",{className:"uppercase bold"},"Your order"),r.a.createElement(f.a,{gutter:[{xs:4,sm:8,md:16,lg:24},{xs:4,sm:8,md:16,lg:24}]},r.a.createElement(b.a,{xl:6,lg:6,md:6,sm:24,xs:24},r.a.createElement("div",{className:"order-calendar"},r.a.createElement("p",{className:"uppercase no-margin"},"Pick date and time"),r.a.createElement(z.a,{format:"YYYY-MM-DD HH:mm",disabledDate:function(e){return e&&e<q()()||6===e.isoWeekday()||7===e.isoWeekday()},disabledTime:function(){return{disabledHours:function(){return function(e,a){for(var t=[],n=e;n<a;n++)t.push(n);return t}(0,24).splice(0,16).concat([23,24])}}},onOk:function(e){t(e.toISOString())},showTime:{defaultValue:q()("00:00","HH:mm")}}))),r.a.createElement(b.a,{xl:12,lg:12,md:12,sm:24,xs:24},r.a.createElement(G,{min:1,max:10,label:"Select amount of people",value:1,onChange:function(e){return c(e)}}),r.a.createElement("p",{className:"uppercase"},"Enter email"),r.a.createElement(v.a,{type:"email",size:"large",placeholder:"email",value:s.email,onChange:function(e){return a(e.target.value)}})),r.a.createElement(b.a,{xl:6,lg:6,md:6,sm:24,xs:24},r.a.createElement(g.a,{disabled:0===s.email.length||null===s.dateTime,className:"uppercase",shape:"round",type:"primary",block:!0,onClick:function(){return u.apply(this,arguments)}},"Order")))))))})),Y=t(316),L=t(99),W=t.n(L),J={dishes:[],loading:!1},U=function(e){return j("dishes/GET_DISHES",e)},V=function(){return function(){var e=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("https://www.themealdb.com/api/json/v1/1/random.php").then((function(e){return e.data.meals}));case 2:t=e.sent,a(U(t));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()};var $=Object(l.b)((function(e){return{dishes:e.dishes,order:e.order}}),(function(e){return Object(i.b)({loadDishes:V,addDish:D},e)}))((function(e){var a=e.addDish,t=e.loadDishes,c=e.dishes,s=e.order,l=Object(n.useState)(c.dishes[0]),i=Object(E.a)(l,2),m=i[0],u=i[1],h=Object(n.useState)(!1),v=Object(E.a)(h,2),O=v[0],k=v[1],x=Object(o.f)();function j(){return(j=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:u(c.dishes[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){s.dish||c.loading||0!==c.dishes.length?s.dish?u(s.dish):u(c.dishes[0]):t()}),[t,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{gutter:{xs:4,sm:8,md:16,lg:24}},r.a.createElement(b.a,{xl:18,lg:18,md:18,sm:24,xs:24},r.a.createElement("div",{className:"container border"},m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{gutter:{xs:4,sm:8,md:16,lg:24},justify:"space-around",align:"middle"},r.a.createElement(b.a,{xl:20,lg:20,md:20,sm:18,xs:18},r.a.createElement("h2",{className:"uppercase"},m.strMeal)),r.a.createElement(b.a,{xl:4,lg:4,md:4,sm:6,xs:6},r.a.createElement("img",{width:"100%",src:m.strMealThumb,alt:m.strMeal}))),r.a.createElement(Y.a,null),r.a.createElement("p",{className:"uppercase no-margin"},m.strInstructions)))),r.a.createElement(b.a,{xl:6,lg:6,md:6,sm:24,xs:24},r.a.createElement("div",{className:"container border"},r.a.createElement("p",{className:"uppercase bold"},m&&m.strMeal),r.a.createElement("p",{className:"uppercase"},"Pick some drinks next!"),r.a.createElement(g.a,{className:"uppercase",loading:O,shape:"round",type:"primary",block:!0,onClick:function(){return k(!0),a(m),x.push("drinks"),void k(!1)}},"Next")))),r.a.createElement(g.a,{className:"uppercase margin--top",shape:"round",type:"primary",onClick:function(){return function(){return j.apply(this,arguments)}()}},"Generate new dish"))})),Q=t(318),X=t(319),Z={drinks:[],loading:!1},ee=function(e){return j("drinks/GET_DRINKS",e)},ae=function(){return function(){var e=Object(p.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("https://api.punkapi.com/v2/beers").then((function(e){return e.data}));case 2:t=e.sent,a(ee(t));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()};var te=t(169),ne=t.n(te),re=(t(271),Object(l.b)((function(e){return{drinks:e.drinks,order:e.order}}),(function(e){return Object(i.b)({addDrink:S,removeDrink:w,loadDrinks:ae},e)}))((function(e){var a=e.addDrink,t=e.removeDrink,c=e.loadDrinks,s=e.drinks,l=e.order,i=Object(n.useState)(!1),m=Object(E.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(!1),h=Object(E.a)(p,2),v=h[0],O=h[1],k=Object(n.useState)(),x=Object(E.a)(k,2),j=x[0],N=x[1],y=Object(n.useState)([]),D=Object(E.a)(y,2),S=D[0],w=D[1],T=Object(o.f)();Object(n.useEffect)((function(){s.loading||0!==s.drinks.length||c(),l.drinks&&w(l.drinks)}),[c,s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{gutter:[{xs:4,sm:8,md:16,lg:24},{xs:4,sm:8,md:16,lg:24}]},r.a.createElement(b.a,{xl:18,lg:18,md:18,sm:24,xs:24},r.a.createElement("div",{className:"container border"},r.a.createElement(f.a,{gutter:[{xs:4,sm:8,md:16,lg:24},{xs:4,sm:8,md:16,lg:24}]},s.drinks.map((function(e){return r.a.createElement(b.a,{xl:12,lg:12,md:12,sm:24,xs:24,flex:"stretch",key:e.id},r.a.createElement(Q.a,{className:"drink-item",bordered:!1},r.a.createElement(f.a,{gutter:{xs:4,sm:8,md:16,lg:24},justify:"space-around",align:"middle"},r.a.createElement(b.a,{xl:20,lg:20,md:20,sm:18,xs:18},r.a.createElement("p",{className:"uppercase bold"},r.a.createElement("i",null,e.tagline))),r.a.createElement(b.a,{xl:4,lg:4,md:4,sm:6,xs:6},r.a.createElement("img",{className:"drink-item__info",src:ne.a,alt:"see more",onClick:function(){N(e),O(!0)}}))),r.a.createElement("p",{className:"uppercase drink-item__name"},e.name),r.a.createElement(g.a,{className:"uppercase",type:"primary",block:!0,onClick:function(){return n=e,void(S.find((function(e){return e.id===n.id}))?(w(S.filter((function(e){return e.id!==n.id}))),t(n)):(w(S.concat([n])),a(n)));var n}},function(e){return S.find((function(a){return a.id===e.id}))?"Remove drink":"Add drink"}(e))))}))))),r.a.createElement(b.a,{xl:6,lg:6,md:6,sm:24,xs:24},r.a.createElement("div",{className:"container border"},S.map((function(e){return r.a.createElement("p",{className:"uppercase no-margin",key:e.id},e.name)})),S.length>0&&r.a.createElement(Y.a,null),r.a.createElement("p",{className:"uppercase"},"Pick delivery date next!"),r.a.createElement(g.a,{disabled:S.length<1,className:"uppercase",loading:u,shape:"round",type:"primary",block:!0,onClick:function(){return d(!0),T.push("order"),void d(!1)}},"Next")))),r.a.createElement(X.a,{visible:v,closable:!0,destroyOnClose:!0,onCancel:function(){return O(!1)}},j&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"uppercase bold"},j.name),r.a.createElement("p",{className:"uppercase"},r.a.createElement("i",null,j.tagline)),r.a.createElement("img",{src:j.image_url,alt:j.name}),r.a.createElement("p",{className:"uppercase"},j.description))))}))),ce=function(){return r.a.createElement("div",null,"Receipt")},se=t(177),le=t.n(se),ie=(t(313),function(){return r.a.createElement("div",{className:"nav"},r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{className:"logo",src:le.a,alt:"logo"})),r.a.createElement(m.b,{className:"menu-item",to:"/"},"restaurants"),r.a.createElement(m.b,{className:"menu-item",to:"/"},"products"),r.a.createElement(m.b,{className:"menu-item",to:"/"},"newsletter"),r.a.createElement(m.b,{className:"menu-item",to:"/"},"contact"))});Object(O.initDB)({name:"SundownDB",version:1,objectStoresMeta:[{store:"orders",storeConfig:{keyPath:"email",autoIncrement:!1},storeSchema:[{name:"email",keypath:"email",options:{unique:!1}},{name:"dateTime",keypath:"dateTime",options:{unique:!1}},{name:"numberOfPeople",keypath:"numberOfPeople",options:{unique:!1}},{name:"dish",keypath:"dish",options:{unique:!1}},{name:"drinks",keypath:"drinks",options:{unique:!1}}]}]});var me=Object(l.b)((function(e){return{order:e.order}}))((function(e){var a,t=e.order;return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(ie,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0},r.a.createElement(B,null)),r.a.createElement(o.a,{path:"/dish",component:$}),r.a.createElement(o.a,{path:"/drinks",component:re}),r.a.createElement(o.a,{path:"/order",component:K}),r.a.createElement(o.a,{path:"/receipt",component:ce}))),r.a.createElement("div",null,r.a.createElement("p",null,"your order:"),r.a.createElement("p",null,"drinks:"),t.drinks.map((function(e){return r.a.createElement("p",{key:e.id},e.name)})),r.a.createElement("p",null,"dish: ",null===(a=t.dish)||void 0===a?void 0:a.strMeal),r.a.createElement("p",null,"delivery: ",t.dateTime),r.a.createElement("p",null,"number of people: ",t.numberOfPeople),r.a.createElement("p",null,"email: ",t.email)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=Object(i.c)({drinks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"drinks/GET_DRINKS":return Object(x.a)(Object(x.a)({},e),{},{drinks:[].concat(Object(k.a)(e.drinks),Object(k.a)(a.payload))});default:return e}},dishes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"dishes/GET_DISHES":return Object(x.a)(Object(x.a)({},e),{},{dishes:[].concat(Object(k.a)(e.dishes),Object(k.a)(a.payload))});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"orders/SET_ORDER":return Object(x.a)({},a.payload.order);case"orders/ADD_DISH":return Object(x.a)(Object(x.a)({},e),{},{dish:a.payload.dish});case"orders/ADD_DRINK":return Object(x.a)(Object(x.a)({},e),{},{drinks:[].concat(Object(k.a)(e.drinks),[a.payload.drink])});case"orders/SET_DATETIME":return Object(x.a)(Object(x.a)({},e),{},{dateTime:a.payload.dateTime});case"orders/SET_EMAIL":return Object(x.a)(Object(x.a)({},e),{},{email:a.payload.email});case"orders/SET_NUMBEROFPEOPLE":return Object(x.a)(Object(x.a)({},e),{},{numberOfPeople:a.payload.numberOfPeople});default:return e}}}),ue=t(178),de=Object(i.d)(oe,Object(i.a)(ue.a));s.a.render(r.a.createElement(l.a,{store:de},r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[183,1,2]]]);
//# sourceMappingURL=main.fae42c06.chunk.js.map